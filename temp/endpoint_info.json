{"endpoint":"POST /api/biomechanics/analyze","version":"v4-mediapipe","description":"Analyzes exercise video biomechanics using MediaPipe Pose for angle extraction + Ollama TEXT for report generation","pipeline":["1. Download video from Supabase Storage","2. Extract frames with ffmpeg","3. Analyze each frame with MediaPipe Pose (Python, model=heavy)","4. Aggregate angles across frames (min/max/avg)","5a. V2: Map to motor/stabilizer metrics → classify → Motor 60% + Stabilizer 40%","5b. V1 fallback: Map to category metrics → classify against generic ranges","6. Generate report with Ollama TEXT (llama3.1) + RAG"],"angle_source":"MediaPipe Pose Landmarker (heavy model, 33 landmarks, 3D world coordinates)","v2_exercises":[{"exerciseId":"back_squat","exerciseName":"Agachamento Livre com Barra","category":"squat"},{"exerciseId":"deadlift_conventional","exerciseName":"Levantamento Terra Convencional","category":"hinge"},{"exerciseId":"chest_supported_row","exerciseName":"Remada com Apoio de Peitoral","category":"pull"},{"exerciseId":"lateral_raise","exerciseName":"Elevação Lateral","category":"isolation_shoulder"},{"exerciseId":"bench_press","exerciseName":"Supino Reto com Barra","category":"horizontal_press"},{"exerciseId":"hip_thrust","exerciseName":"Elevação Pélvica (Hip Thrust)","category":"hip_dominant"}],"categories_v1":["squat","hinge","pull","horizontal_press","vertical_press","unilateral","core"],"request":{"method":"POST","body":{"videoId":"string - ID from nfc_chat_video_analyses table","equipmentConstraint":"optional: none | safety_bars | machine_guided | space_limited | pain_limited | rehab"}}}